"use strict";(self.webpackChunkmegacapital=self.webpackChunkmegacapital||[]).push([[5089],{85089:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var i=t(74165),s=t(15861),r=t(29439),o=t(57689),c=t(89164),l=t(57621),d=t(20890),a=t(94721),x=t(36314),h=t(36151),u=t(16030),m=t(72791),j=t(85826),Z=t(83022),w=t(19601),f=t(69962),v=t(63399),k=t(49133),b=t.n(k),p=t(46431),g=t.n(p),S=t(80184);function y(){var e,n=(0,o.UO)(),t=(0,u.v9)((function(e){return e.tokenLocks.token})),k=(0,u.I0)(),p=(0,Z.Z)().account,y=(0,u.v9)((function(e){return e.network.chainId})),D=(0,f.Yv)(),z=(0,m.useState)(!1),I=(0,r.Z)(z,2),T=I[0],C=I[1],L=(0,v.Ds)().enqueueSnackbar;(0,m.useEffect)((function(){k((0,j.LP)(y,n.token,n.owner))}),[p,k,n,y]);var Y=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=18;break}return C(!0),e.prev=2,e.next=5,D.unlockToken(n.token);case 5:return t=e.sent,e.next=8,t.wait();case 8:k((0,j.LP)(y,n.token,n.owner)),L("Unlocked successufully!",{variant:"success"}),C(!1),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),L("Unlocked failed!",{variant:"error"}),C(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return null===t||0===Object.keys(t).length?(0,S.jsx)(c.Z,{maxWidth:"lg",children:(0,S.jsxs)(l.Z,{sx:{width:1,p:3,transition:"all .3s",cursor:"pointer","&:hover":{boxShadow:function(e){return e.customShadows.z24}}},children:[(0,S.jsx)(d.Z,{variant:"h4",sx:{mb:2},children:"Fetching!"}),(0,S.jsx)(a.Z,{}),(0,S.jsx)(x.Z,{sx:{mt:5}})]})}):(0,S.jsxs)(c.Z,{maxWidth:"lg",children:[(0,S.jsxs)(l.Z,{sx:{width:1,p:3,transition:"all .3s",cursor:"pointer","&:hover":{boxShadow:function(e){return e.customShadows.z24}}},children:[(0,S.jsx)(d.Z,{variant:"h4",sx:{mb:2},children:"Lock info"}),(0,S.jsx)(a.Z,{}),(0,S.jsxs)(x.Z,{sx:{mt:5},children:[(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{children:"Total Amount Locked"}),(0,S.jsx)(d.Z,{children:t.amount?parseFloat((0,w.bM)(null===t||void 0===t?void 0:t.amount,null===t||void 0===t?void 0:t.decimals)).toLocaleString("en"):""})]}),(0,S.jsx)(a.Z,{sx:{my:1.5}}),(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{children:"Total Values Locked"}),(0,S.jsxs)(d.Z,{children:[null!==t&&void 0!==t&&t.price?(0,w.Fn)(null===t||void 0===t?void 0:t.price):0,"$"]})]}),(0,S.jsx)(a.Z,{sx:{my:1.5}}),(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{children:"Token Address"}),(0,S.jsx)(d.Z,{children:n.token})]}),(0,S.jsx)(a.Z,{sx:{my:1.5}}),(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{children:"Token Name"}),(0,S.jsx)(d.Z,{children:null===t||void 0===t?void 0:t.name})]}),(0,S.jsx)(a.Z,{sx:{my:1.5}}),(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{children:"Token Symbol"}),(0,S.jsx)(d.Z,{children:null===t||void 0===t?void 0:t.symbol})]}),(0,S.jsx)(a.Z,{sx:{my:1.5}}),(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{children:"Token Decimals"}),(0,S.jsx)(d.Z,{children:null===t||void 0===t?void 0:t.decimals})]}),(0,S.jsx)(a.Z,{sx:{my:1.5}})]})]}),(0,S.jsxs)(l.Z,{sx:{mt:2,width:1,p:3,transition:"all .3s",cursor:"pointer","&:hover":{boxShadow:function(e){return e.customShadows.z24}}},children:[(0,S.jsx)(d.Z,{variant:"h4",sx:{mb:2},children:"Lock records"}),(0,S.jsx)(a.Z,{}),(0,S.jsxs)(x.Z,{direction:"row",sx:{mt:4},children:[(0,S.jsx)(d.Z,{fontWeight:"bold",sx:{width:.3},children:"Wallet address"}),(0,S.jsx)(d.Z,{fontWeight:"bold",sx:{width:.3},children:"Amount"}),(0,S.jsx)(d.Z,{fontWeight:"bold",sx:{width:.3},children:"Locked time"}),(0,S.jsx)(d.Z,{fontWeight:"bold",sx:{width:.3},children:"Unlock time"}),p===(null===t||void 0===t?void 0:t.owner)?(0,S.jsx)(d.Z,{fontWeight:"bold",sx:{width:.3},children:"Unlock"}):""]}),(0,S.jsxs)(x.Z,{sx:{mt:2},children:[null===t||void 0===t||null===(e=t.amounts)||void 0===e?void 0:e.map((function(e,i){return(0,S.jsxs)(x.Z,{direction:"row",alignItems:"center",fontSize:"0.85rem",children:[(0,S.jsx)(d.Z,{sx:{width:.3},children:n.owner.substring(0,5)+"..."+n.owner.substring(n.owner.length-3)}),(0,S.jsx)(d.Z,{sx:{width:.3},children:e.amount?(0,w.Fn)((0,w.bM)(e.amount,null===t||void 0===t?void 0:t.decimals)):""}),(0,S.jsx)(d.Z,{sx:{width:.3},children:(0,S.jsx)(g(),{format:"YYYY-MM-DD HH:mm",children:new Date(e.startDateTime).toISOString()})}),(0,S.jsx)(d.Z,{sx:{width:.3},children:(0,S.jsx)(g(),{format:"YYYY-MM-DD HH:mm",children:new Date(e.endDateTime).toISOString()})}),p===(null===t||void 0===t?void 0:t.owner)?e.endDateTime<=Date.now()?(0,S.jsx)(d.Z,{sx:{width:.3},children:(0,S.jsx)(h.Z,{variant:"outline",sx:{bgcolor:"primary.dark"},onClick:Y,children:T?(0,S.jsx)(b(),{color:"#02FF7B",size:30}):"Unlock"})}):(0,S.jsx)(d.Z,{sx:{width:.3},children:(0,S.jsx)(h.Z,{variant:"outline",disabled:!0,children:"Unlock"})}):""]},i)})),(0,S.jsx)(a.Z,{sx:{my:1.5}})]})]})]})}}}]);
//# sourceMappingURL=5089.55a676a7.chunk.js.map