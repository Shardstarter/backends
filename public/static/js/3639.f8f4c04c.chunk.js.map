{"version":3,"file":"static/js/3639.f8f4c04c.chunk.js","mappings":"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","sources":["pages/CreatePage.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  setAddress,\r\n  setDeal,\r\n  setProjectName,\r\n  setError,\r\n  setParsed,\r\n  setApproved,\r\n  setAllowance,\r\n  setTotalSupply\r\n} from '../redux/slices/tokenListing';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { useFormik, Form, FormikProvider } from 'formik';\r\nimport {\r\n  Container,\r\n  Box,\r\n  Paper,\r\n  TextField,\r\n  Alert as MuiAlert,\r\n  Stack,\r\n  Typography,\r\n  Divider,\r\n  Button,\r\n  Select,\r\n  MenuItem,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  FormControl,\r\n  InputLabel,\r\n  Link,\r\n  Dialog,\r\n  DialogContent\r\n} from '@mui/material';\r\nimport MainInfo from './create/MainInfo';\r\nimport AdditionalInfo from './create/AdditionalInfo';\r\nimport FinishStep from './create/FinishStep';\r\nimport { useNavigate } from 'react-router';\r\nimport { useTokenContract } from '../hooks/useContract';\r\nimport { IDO_ADDRESS } from '../config/constants';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport Loader from 'react-loader-spinner';\r\nimport HashLoader from 'react-spinners/HashLoader';\r\nimport { formatUnits, commify } from '@ethersproject/units';\r\nimport { BigNumber } from 'ethers';\r\nimport { useSnackbar } from 'notistack';\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\r\nimport Page from 'components/Page';\r\n\r\nconst steps = [\r\n  {\r\n    title: 'Approve Token',\r\n    desc: 'Enter the token address and approve'\r\n  },\r\n  {\r\n    title: 'Presale Information',\r\n    desc: 'Enter the Presale information'\r\n  },\r\n  {\r\n    title: 'Project Information',\r\n    desc: 'Add project links, description and select tier'\r\n  },\r\n  {\r\n    title: 'Submit',\r\n    desc: 'Submit your presale'\r\n  }\r\n];\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nfunction Create() {\r\n  const { account } = useWeb3React();\r\n  const { pathname } = useLocation();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const network = useSelector((state) => state.network.chainId);\r\n  const projectName = useSelector((state) => state.tokenListing.projectName);\r\n  const address = useSelector((state) => state.tokenListing.address);\r\n  const deal = useSelector((state) => state.tokenListing.deal);\r\n  const error = useSelector((state) => state.tokenListing.error);\r\n  const symbol = useSelector((state) => state.tokenListing.symbol);\r\n  const name = useSelector((state) => state.tokenListing.name);\r\n  const totalSupply = useSelector((state) => state.tokenListing.totalSupply);\r\n  const decimals = useSelector((state) => state.tokenListing.decimals);\r\n  const approved = useSelector((state) => state.tokenListing.approved);\r\n  const dispatch = useDispatch();\r\n  const [activeStep, setActiveStep] = useState(0); // 0 default, 1 maininfo, 2 additional info\r\n  const [isApproving, setIsApproving] = useState(false);\r\n  const [isParsing, setIsParsing] = useState(false);\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const tokenContract = useTokenContract(address);\r\n\r\n  const handleProjectName = async (e) => {\r\n    dispatch(setProjectName(e.target.value));\r\n  };\r\n\r\n  const handleDeal = async (e) => {\r\n    dispatch(setDeal(e.target.value));\r\n  };\r\n\r\n  const handleTokenAddress = async (e) => {\r\n    if (!account) {\r\n      enqueueSnackbar('Please login with your wallet!', {\r\n        variant: 'error'\r\n      });\r\n      return;\r\n    }\r\n    setIsParsing(true);\r\n    dispatch(setAddress(e.target.value));\r\n  };\r\n  const handleApprove = async (e) => {\r\n    if (!isApproving) {\r\n      try {\r\n        setIsApproving(true);\r\n        const balance = await tokenContract.balanceOf(account);\r\n        const tx = await tokenContract.approve(IDO_ADDRESS[network], balance);\r\n        await tx.wait();\r\n        dispatch(setAllowance(balance));\r\n        setIsApproving(false);\r\n        goNext();\r\n      } catch (err) {\r\n        setIsApproving(false);\r\n        enqueueSnackbar('Failed in approving!', {\r\n          variant: 'error'\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const goNext = () => {\r\n    if (activeStep < 3)\r\n      setActiveStep((current) => {\r\n        return current + 1;\r\n      });\r\n  };\r\n  const goBack = () => {\r\n    if (activeStep > 0)\r\n      setActiveStep((current) => {\r\n        return current - 1;\r\n      });\r\n  };\r\n  const goComplete = (address) => {\r\n    navigate(`/projects?address=${address}`);\r\n  };\r\n\r\n  return (\r\n    <Page title=\"Create IDO\">\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ mt: 5 }}>\r\n          <Stepper alternativeLabel activeStep={activeStep} sx={{ mb: 5 }}>\r\n            {steps.map((label, index) => (\r\n              <Step key={label.title} completed={index < activeStep}>\r\n                <StepLabel>\r\n                  <Stack fontSize=\"1.2rem\">{label.title}</Stack>\r\n                  <Typography fontSize=\"0.8rem\">{label.desc} </Typography>\r\n                </StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          {activeStep == 0 ? (\r\n            <Paper sx={{ p: 10, mx: 'auto' }}>\r\n              <Stack>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Project(Token) Name\"\r\n                  type=\"text\"\r\n                  error={Boolean(error)}\r\n                  helperText={error}\r\n                  value={projectName}\r\n                  onChange={handleProjectName}\r\n                  sx={{\r\n                    width: 1\r\n                  }}\r\n                />\r\n              </Stack>\r\n              <Stack sx={{ marginTop: '30px' }}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Deal\"\r\n                  type=\"text\"\r\n                  error={Boolean(error)}\r\n                  helperText={error}\r\n                  value={deal}\r\n                  onChange={handleDeal}\r\n                  sx={{\r\n                    width: 1\r\n                  }}\r\n                />\r\n              </Stack>\r\n              <Stack sx={{ marginTop: '30px' }}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Team Wallet Address For Raising Fund\"\r\n                  type=\"text\"\r\n                  error={Boolean(error)}\r\n                  helperText={error}\r\n                  value={address}\r\n                  onChange={handleTokenAddress}\r\n                  sx={{\r\n                    width: 1\r\n                  }}\r\n                />\r\n              </Stack>\r\n              <Stack sx={{ marginTop: '30px' }}>\r\n                <Stack direction=\"row\" justifyContent=\"center\">\r\n                  <Button variant=\"contained\" color=\"primary\" style={{ marginTop: 20 }} onClick={goNext}>\r\n                    Next\r\n                  </Button>\r\n                </Stack>\r\n              </Stack>\r\n            </Paper>\r\n          ) : activeStep == 1 ? (\r\n            <MainInfo goBack={goBack} goNext={goNext}></MainInfo>\r\n          ) : activeStep == 2 ? (\r\n            <AdditionalInfo goBack={goBack} goNext={goNext}></AdditionalInfo>\r\n          ) : (\r\n            <FinishStep goBack={goBack} goComplete={goComplete}></FinishStep>\r\n          )}\r\n        </Box>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Create;\r\n"],"names":["steps","title","desc","account","useWeb3React","enqueueSnackbar","useLocation","pathname","useSnackbar","projectName","useSelector","state","network","chainId","tokenListing","address","deal","error","dispatch","symbol","name","totalSupply","decimals","approved","useDispatch","_useState","useState","_useState2","_slicedToArray","activeStep","setActiveStep","_useState3","_useState4","_useState5","_useState6","setIsParsing","navigate","useParams","useNavigate","handleProjectName","useTokenContract","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","setProjectName","target","value","stop","_x","apply","arguments","handleDeal","_ref2","_callee2","_context2","setDeal","_x2","handleTokenAddress","_ref3","_callee3","_context3","variant","abrupt","setAddress","_x3","goNext","current","goBack","_jsx","Page","children","Container","maxWidth","_jsxs","Box","sx","mt","Stepper","alternativeLabel","mb","map","label","index","Step","completed","StepLabel","Stack","fontSize","Typography","Paper","p","mx","TextField","fullWidth","type","Boolean","helperText","onChange","width","marginTop","direction","justifyContent","Button","color","style","onClick","MainInfo","AdditionalInfo","FinishStep","goComplete","concat"],"sourceRoot":""}